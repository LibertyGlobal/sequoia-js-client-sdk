<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Javascript Client SDK Class: ResourcefulEndpoint</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.cosmo.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top navbar-inverse">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html"><img class="branding-logo" src="https://pikselgroup.com/broadcast/wp-content/uploads/sites/3/2017/09/P-P-W.png"
		alt="logo"/>Javascript Client SDK</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="BusinessEndpoint.html">BusinessEndpoint</a></li><li><a href="Client.html">Client</a></li><li><a href="Predications.html">Predications</a></li><li><a href="Query.html">Query</a></li><li><a href="Registry.html">Registry</a></li><li><a href="Resource.html">Resource</a></li><li><a href="ResourceCollection.html">ResourceCollection</a></li><li><a href="ResourcefulEndpoint.html">ResourcefulEndpoint</a></li><li><a href="ServiceDescriptor.html">ServiceDescriptor</a></li><li><a href="Session.html">Session</a></li><li><a href="Transport.html">Transport</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="tutorials.list.html" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="tutorial-getting_started.html">Getting Started</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="global.html#ValidationError">ValidationError</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	<h1 class="page-title">Class: ResourcefulEndpoint</h1>
<section>

<header>
    
        <h2>
        ResourcefulEndpoint
        </h2>
        
            <div class="class-description"><p>ResourceFulEndpoint is the main interaction class against sequoia MDS endpoints.
This is what you'll be using to present data to users, for example content items, registered users etc.</p>
<p>This class should not be used directly, but should instead be obtained
from <a href="ServiceDescriptor.html#resourcefulEndpoint">ServiceDescriptor#resourcefulEndpoint</a></p></div>
        
    
</header>


<article>
    <div class="container-overview">
    
        
<hr>
<dt>
    <h4 class="name" id="ResourcefulEndpoint"><span class="type-signature">&lt;private> </span>new ResourcefulEndpoint(transport, resourceful)</h4>
    
    
</dt>
<dd>

    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>transport</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Transport.html">Transport</a></span>



            
            </td>

            

            

            <td class="description last"><p>Transport instance to use for fetching</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>resourceful</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>JSON object describing this resourceful endpoint
(fetched from sequoia services 'descriptor')</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="resourceful_endpoint.js.html">resourceful_endpoint.js</a>,
				 <a href="resourceful_endpoint.js.html#sunlight-1-line-32">line 32</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">// &#x60;contents&#x60; is used in the rest of the examples as our reference
// to a ResourcefulEndpoint
let contents;

client.login(&#x27;username&#x27;, &#x27;password&#x27;).then(session =&gt; {
  client.service(&#x27;metadata&#x27;).then(service =&gt; {
    // Get a resourceful endpoint (this is synchronous as the service passed
    // all the necessary data):
    contents = service.resourcefulEndpoint(&#x27;contents&#x27;);
    // whatever
  });
});</pre>


    
</dd>

    
    </div>

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        <dl>
            
<hr>
<dt class="name" id="batchSize">
    <h4 id="batchSize"><span class="type-signature"></span>batchSize<span class="type-signature"> :number</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>Get the <code>batchSize</code> from the descriptor's <code>storeBatch</code> operation.
This is how many resources can be saved at once when saving a <a href="ResourceCollection.html">ResourceCollection</a></p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">number</span>



            </li>
        </ul>
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="resourceful_endpoint.js.html">resourceful_endpoint.js</a>,
				 <a href="resourceful_endpoint.js.html#sunlight-1-line-523">line 523</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    
</dd>

        
            
<hr>
<dt class="name" id="hyphenatedPluralName">
    <h4 id="hyphenatedPluralName"><span class="type-signature"></span>hyphenatedPluralName<span class="type-signature"> :string</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>Get the <code>hyphenatedPluralName</code> from the descriptor. The hyphenated plural name
is used to identify what the resourceful endpoint is called. e.g. a camelCased
resource (<code>pluralName</code>) like <code>contentSegments</code> will live under an HTTP endpoint
of <code>content-segments</code></p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">string</span>



            </li>
        </ul>
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="resourceful_endpoint.js.html">resourceful_endpoint.js</a>,
				 <a href="resourceful_endpoint.js.html#sunlight-1-line-504">line 504</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    
</dd>

        
            
<hr>
<dt class="name" id="pluralName">
    <h4 id="pluralName"><span class="type-signature"></span>pluralName<span class="type-signature"> :string</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>Get the <code>pluralName</code> from the descriptor. The plural name is used to identify
the content array from the JSON response from Sequoia. e.g. for <code>assets</code>, the
response will be of the form:</p>
<pre class="prettyprint source lang-json"><code>{
  assets: [ asset resource, asset resource ... ],
  linked: [ linked resource, linked resource ... ],
  meta: { ...meta info }
}</code></pre>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">string</span>



            </li>
        </ul>
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="resourceful_endpoint.js.html">resourceful_endpoint.js</a>,
				 <a href="resourceful_endpoint.js.html#sunlight-1-line-482">line 482</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    
</dd>

        
            
<hr>
<dt class="name" id="relationships">
    <h4 id="relationships"><span class="type-signature"></span>relationships<span class="type-signature"> :object</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>Get the relationship info from the descriptor.</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">object</span>



            </li>
        </ul>
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="resourceful_endpoint.js.html">resourceful_endpoint.js</a>,
				 <a href="resourceful_endpoint.js.html#sunlight-1-line-463">line 463</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">contents.relationships

// Returns:

{
  &quot;children&quot;: {
    &quot;description&quot;: &quot;The associated child contents&quot;,
    &quot;type&quot;: &quot;indirect&quot;,
    &quot;resourceType&quot;: &quot;contents&quot;,
    &quot;filterName&quot;: &quot;withParentRef&quot;,
    &quot;fields&quot;: [
      &quot;ref&quot;,
      &quot;title&quot;,
      &quot;parentRef&quot;,
      &quot;type&quot;
    ],
    &quot;batchSize&quot;: 10,
    &quot;name&quot;: &quot;children&quot;
  },
  &quot;assets&quot;: {
    &quot;description&quot;: &quot;The associated assets&quot;,
    &quot;type&quot;: &quot;indirect&quot;,
    &quot;resourceType&quot;: &quot;assets&quot;,
    &quot;filterName&quot;: &quot;withContentRef&quot;,
    &quot;fields&quot;: [
      &quot;ref&quot;,
      &quot;name&quot;,
      &quot;contentRef&quot;,
      &quot;type&quot;,
      &quot;url&quot;,
      &quot;fileFormat&quot;,
      &quot;title&quot;,
      &quot;fileSize&quot;,
      &quot;tags&quot;
    ],
    &quot;batchSize&quot;: 10,
    &quot;name&quot;: &quot;assets&quot;
  }
}</pre>


    
</dd>

        
            
<hr>
<dt class="name" id="serviceName">
    <h4 id="serviceName"><span class="type-signature"></span>serviceName<span class="type-signature"> :string</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>Get the <code>serviceName</code> from the descriptor.</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">string</span>



            </li>
        </ul>
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="resourceful_endpoint.js.html">resourceful_endpoint.js</a>,
				 <a href="resourceful_endpoint.js.html#sunlight-1-line-513">line 513</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    
</dd>

        
            
<hr>
<dt class="name" id="singularName">
    <h4 id="singularName"><span class="type-signature"></span>singularName<span class="type-signature"> :string</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>Get the <code>singularName</code> from the descriptor. The singular name is used to identify
what the specific resourceful resource is identified as.</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">string</span>



            </li>
        </ul>
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="resourceful_endpoint.js.html">resourceful_endpoint.js</a>,
				 <a href="resourceful_endpoint.js.html#sunlight-1-line-492">line 492</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    
</dd>

        </dl>
    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<hr>
<dt>
    <h4 class="name" id="all"><span class="type-signature">&lt;async> </span>all(criteria, options)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>The same as <a href="ResourcefulEndpoint.html#browse">ResourcefulEndpoint#browse</a> but will fetch <em>all</em> pages as a single
<a href="ResourceCollection.html">ResourceCollection</a></p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type"><a href="Query.html">Query</a></span>



            
            </td>

            

            

            <td class="description last"><p>A query string to append to the request</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><p><a href="https://github.github.io/fetch/#options">fetch options</a></p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="resourceful_endpoint.js.html">resourceful_endpoint.js</a>,
				 <a href="resourceful_endpoint.js.html#sunlight-1-line-242">line 242</a>
			</li>
		</ul>
	</dd>
	

	

	
	<dt class="tag-see method-doc-label method-doc-details-label">See:</dt>
	<dd class="tag-see">
		<ul>
			<li><a href="Transport.html#get">Transport#get</a></li>
			</ul>
	</dd>
	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <ul>
<li>A <a href="ResourceCollection.html">ResourceCollection</a></li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="browse"><span class="type-signature"></span>browse(criteria, options)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Perform a browse (a GET for all items on this resourceful endpoint, with
optional <code>criteria</code>). The collection returned is the first page of results as
specified by <code>perPage</code> (or the Resourceful default e.g. 100)</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type"><a href="Query.html">Query</a></span>



            
            </td>

            

            

            <td class="description last"><p>A query string to append to the request</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><p><a href="https://github.github.io/fetch/#options">fetch options</a></p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="resourceful_endpoint.js.html">resourceful_endpoint.js</a>,
				 <a href="resourceful_endpoint.js.html#sunlight-1-line-216">line 216</a>
			</li>
		</ul>
	</dd>
	

	

	
	<dt class="tag-see method-doc-label method-doc-details-label">See:</dt>
	<dd class="tag-see">
		<ul>
			<li>Trasport#get</li>
			</ul>
	</dd>
	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <ul>
<li>A <a href="ResourceCollection.html">ResourceCollection</a></li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="criteriaToQuery"><span class="type-signature">&lt;private> </span>criteriaToQuery(criteria)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Return a query string to append to the HTTP call. Will default to appending
<code>?owner=&lt;owner&gt;</code></p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type"><a href="Query.html">Query</a></span>



            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last"><p>A (potential) query string to append to the request</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="resourceful_endpoint.js.html">resourceful_endpoint.js</a>,
				 <a href="resourceful_endpoint.js.html#sunlight-1-line-546">line 546</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="destroy"><span class="type-signature"></span>destroy(resource, options)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Destroy (perform an HTTP DELETE for) an existing item</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>resource</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>An Object corresponding to the resouce you wish to delete</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><p><a href="https://github.github.io/fetch/#options">fetch options</a></p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="resourceful_endpoint.js.html">resourceful_endpoint.js</a>,
				 <a href="resourceful_endpoint.js.html#sunlight-1-line-363">line 363</a>
			</li>
		</ul>
	</dd>
	

	

	
	<dt class="tag-see method-doc-label method-doc-details-label">See:</dt>
	<dd class="tag-see">
		<ul>
			<li><a href="Transport.html#destroy">Transport#destroy</a></li>
			</ul>
	</dd>
	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="endPointUrl"><span class="type-signature">&lt;private> </span>endPointUrl(ref, criteria)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Get the full URL to the resourceful endpoint/item we will send the request to</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ref</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last"><p>An optional unique ref for performing actions on a unique item (rather than browsing)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type"><a href="Query.html">Query</a></span>



            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last"><p>A (potential) query string to append to the request</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="resourceful_endpoint.js.html">resourceful_endpoint.js</a>,
				 <a href="resourceful_endpoint.js.html#sunlight-1-line-572">line 572</a>
			</li>
		</ul>
	</dd>
	

	

	
	<dt class="tag-see method-doc-label method-doc-details-label">See:</dt>
	<dd class="tag-see">
		<ul>
			<li><a href="ResourcefulEndpoint.html#criteriaToQuery">ResourcefulEndpoint#criteriaToQuery</a></li>
			</ul>
	</dd>
	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="newResource"><span class="type-signature"></span>newResource(data)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Obtain a new <a href="Resource.html">Resource</a> for this endpoint.
A <em>new</em> resource is something that has not yet been created remotely.</p>
<p>The <code>owner</code> property will be pre-populated with the current tenancy. Provding a
a value for this will override the current tenancy. This is useful when using
root tenancy but populating data on behalf of non-root tenancies.
See <a href="Client.html#setTenancy">Client#setTenancy</a> for more information.</p>
<p>When a <code>name</code> property is provided, the <code>ref</code> (unique id) of this resource will
also be populated. This is useful for allowing linking different kinds of resources
together (see <a href="Resource.html#link">Resource#link</a>) before saving the resources.</p>
<p>There is a potential that <code>name</code>s you choose will conflict with already stored resources.
In this case, your changes will override the remote resource. See the below example
for how to handle these situations.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>data to populate the <a href="Resource.html">Resource</a> with</p>
                <h6 class="method-params-label method-subparams-label">Properties</h6>
                

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>owner</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Defaults to the current tenancy name</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="resourceful_endpoint.js.html">resourceful_endpoint.js</a>,
				 <a href="resourceful_endpoint.js.html#sunlight-1-line-145">line 145</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Resource.html">Resource</a></span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
        <p class="code-caption">Create a new resource</p>
    
    <pre class="sunlight-highlight-javascript">const contentItem = contents.newResource({
 name: &#x27;my-new-content&#x27;,
 title: &#x27;something&#x27;,
 synopsis: &#x27;a really long synopsis&#x27;
});

// You can now call methods on it, for example, a usual flow for creating
// a Resource would be:

contentItem.validate()
.then(() =&gt; contentItem.save())
.then(() =&gt; {
  // Success, do something (redirect to a new view?)
}).catch((error) =&gt; {
  // Validation error (from Resource object or the server), show the user what went wrong
});</pre>

        <p class="code-caption">Update or create a piece of content</p>
    
    <pre class="sunlight-highlight-javascript">const potentiallyNewContentItem = contents.newResource({
 name: &#x27;my-potentially-new-content&#x27;,
 title: &#x27;something new&#x27;,
 synopsis: &#x27;a really long synopsis&#x27;
});

function findOrCreateResource(resourceful, data) {
  return resourceful.readOne(&#x60;${resourceful.owner}:${data.name}&#x60;).catch(() =&gt; resourceful.newResource(data));
}

// You can now call methods on it, for example, a usual flow for creating
// a Resource would be:

findOrCreateResource(contents, potentiallyNewContentItem)
.then((contentItem) =&gt; {
  // Update with new data in case it was an existing resource
  Object.assign(contentItem, potentiallyNewContentItem);
  contentItem.duration = &#x27;PT75M&#x27;;

  return contentItem.save())
.then(() =&gt; {
  // Success, do something (redirect to a new view?)
}).catch((error) =&gt; {
  // Validation error (from the server), show the user what went wrong
});</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="newResourceCollection"><span class="type-signature"></span>newResourceCollection(data)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Create a new <a href="ResourceCollection.html">ResourceCollection</a> for this endpoint.</p>
<p>Useful for creating many resources for ingest.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Object></span>



            
            </td>

            

            

            <td class="description last"><p>data to populate the <a href="ResourceCollection.html">ResourceCollection</a> with</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="resourceful_endpoint.js.html">resourceful_endpoint.js</a>,
				 <a href="resourceful_endpoint.js.html#sunlight-1-line-185">line 185</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="ResourceCollection.html">ResourceCollection</a></span>



    </dd>
</dl>


        

    
        <h5>Example</h5>
        
        <p class="code-caption">Create a new resource</p>
    
    <pre class="sunlight-highlight-javascript">const contentItems = contents.newResourceCollection([{
 name: &#x27;one&#x27;,
 title: &#x27;something&#x27;,
 synopsis: &#x27;a really long synopsis&#x27;
},
{
 name: &#x27;two&#x27;,
 title: &#x27;something else&#x27;,
 synopsis: &#x27;another really long synopsis&#x27;
}]);

contentItems.validate()
.then(() =&gt; contentItems.save())
.then(() =&gt; {
  // Success, do something (redirect to a new view?)
}).catch((error) =&gt; {
  // Validation error (from a nested Resource object or the server), show the user what went wrong
});</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="readMany"><span class="type-signature"></span>readMany(refs, criteria, options)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Fetch (performs an HTTP GET on) many items, with optional criteria</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>refs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;String></span>



            
            </td>

            

            

            <td class="description last"><p>The unique <code>references</code> for the items</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type"><a href="Query.html">Query</a></span>



            
            </td>

            

            

            <td class="description last"><p>A query string to append to the request</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><p><a href="https://github.github.io/fetch/#options">fetch options</a></p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="resourceful_endpoint.js.html">resourceful_endpoint.js</a>,
				 <a href="resourceful_endpoint.js.html#sunlight-1-line-305">line 305</a>
			</li>
		</ul>
	</dd>
	

	

	
	<dt class="tag-see method-doc-label method-doc-details-label">See:</dt>
	<dd class="tag-see">
		<ul>
			<li><a href="Transport.html#get">Transport#get</a></li>
			</ul>
	</dd>
	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <ul>
<li>A <a href="ResourceCollection.html">ResourceCollection</a></li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="readOne"><span class="type-signature"></span>readOne(ref, criteria, options)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Fetch (performs an HTTP GET on) an individual item, with optional criteria</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ref</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>The unique <code>reference</code> for this item</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type"><a href="Query.html">Query</a></span>



            
            </td>

            

            

            <td class="description last"><p>A query string to append to the request</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><p><a href="https://github.github.io/fetch/#options">fetch options</a></p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="resourceful_endpoint.js.html">resourceful_endpoint.js</a>,
				 <a href="resourceful_endpoint.js.html#sunlight-1-line-288">line 288</a>
			</li>
		</ul>
	</dd>
	

	

	
	<dt class="tag-see method-doc-label method-doc-details-label">See:</dt>
	<dd class="tag-see">
		<ul>
			<li><a href="Transport.html#get">Transport#get</a></li>
			</ul>
	</dd>
	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <ul>
<li>A <a href="Resource.html">Resource</a></li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="relationshipFor"><span class="type-signature"></span>relationshipFor(relationshipName)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Get the relationship info for <code>relationshipName</code> from the descriptor</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>relationshipName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>The name of the relationship e.g. 'assets'</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="resourceful_endpoint.js.html">resourceful_endpoint.js</a>,
				 <a href="resourceful_endpoint.js.html#sunlight-1-line-404">line 404</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    
    <h5>Throws:</h5>
    
            

<dl>
    <dt>
        <div class="param-desc">
        <ul>
<li>Throws when the relationship doesn't exist</li>
</ul>
        </div>
    </dt>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>



            </dd>
        </dl>
    </dt>
</dl>


        

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>


        

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">contents.relationshipFor(&#x27;categories&#x27;);

// Returns:

{
  &quot;description&quot;: &quot;The associated categories&quot;,
  &quot;type&quot;: &quot;direct&quot;,
  &quot;resourceType&quot;: &quot;categories&quot;,
  &quot;fieldNamePath&quot;: &quot;categoryRefs&quot;,
  &quot;fields&quot;: [
    &quot;ref&quot;,
    &quot;title&quot;,
    &quot;parentRef&quot;,
    &quot;scheme&quot;,
    &quot;value&quot;
  ],
  &quot;name&quot;: &quot;categories&quot;,
  &quot;batchSize&quot;: 10
}</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="responseToResource"><span class="type-signature">&lt;private> </span>responseToResource()</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Turn the first item in the Sequoia response for this endpoint
into a <a href="Resource.html">Resource</a>. This is a convenience for when operating
on individual Resources (read, update, store) where the sequoia response
is of the form</p>
<pre class="prettyprint source"><code>{
  &lt;pluralName>: [&lt;Resource>],
  meta: { ... }
}</code></pre><p>and we want to just operate on <code>Resource</code></p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="resourceful_endpoint.js.html">resourceful_endpoint.js</a>,
				 <a href="resourceful_endpoint.js.html#sunlight-1-line-69">line 69</a>
			</li>
		</ul>
	</dd>
	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Resource.html">Resource</a></span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="store"><span class="type-signature"></span>store(resource, options)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Store (perform an HTTP POST for) a new item</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>resource</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Resource.html">Resource</a></span>



            
            </td>

            

            

            <td class="description last"><p>A <a href="Resource.html">Resource</a> corresponding to the new resource you wish to save</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><p><a href="https://github.github.io/fetch/#options">fetch options</a></p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="resourceful_endpoint.js.html">resourceful_endpoint.js</a>,
				 <a href="resourceful_endpoint.js.html#sunlight-1-line-323">line 323</a>
			</li>
		</ul>
	</dd>
	

	

	
	<dt class="tag-see method-doc-label method-doc-details-label">See:</dt>
	<dd class="tag-see">
		<ul>
			<li><a href="Transport.html#post">Transport#post</a></li>
			</ul>
	</dd>
	

	
	<dt class="tag-todo method-doc-label method-doc-details-label">To Do:</dt>
	<dd class="tag-todo">
		<ul>
			<li>Validate against the descriptor that this is a valid item to store</li>
			</ul>
	</dd>
	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="update"><span class="type-signature"></span>update(resource, options)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Update (perform an HTTP PUT for) an existing item</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>resource</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>An Object corresponding to the new resouce you wish to save</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><p><a href="https://github.github.io/fetch/#options">fetch options</a></p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	
	<dt class="tag-source method-doc-label method-doc-details-label">Source:</dt>
	<dd class="tag-source">
		<ul class="dummy">
			<li>
				<a href="resourceful_endpoint.js.html">resourceful_endpoint.js</a>,
				 <a href="resourceful_endpoint.js.html#sunlight-1-line-344">line 344</a>
			</li>
		</ul>
	</dd>
	

	

	
	<dt class="tag-see method-doc-label method-doc-details-label">See:</dt>
	<dd class="tag-see">
		<ul>
			<li><a href="Transport.html#put">Transport#put</a></li>
			</ul>
	</dd>
	

	
	<dt class="tag-todo method-doc-label method-doc-details-label">To Do:</dt>
	<dd class="tag-todo">
		<ul>
			<li>Validate against the descriptor that this is a valid item to store</li>
			</ul>
	</dd>
	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
</dd>

        </dl>
    

    

    
</article>

</section>




		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Search results</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<footer>


	<span class="copyright">
	Piksel Ltd Copyright © 2018
	</span>

<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a>
	
		on Mon Nov 12th 2018
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>


</body>
</html>